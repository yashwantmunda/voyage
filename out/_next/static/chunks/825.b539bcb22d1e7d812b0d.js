(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[825],{4825:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return h}});var n=t(5893);function a(e){if(Array.isArray(e))return e}var o=t(6410),i=t(2961);function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,r){return a(e)||function(e,r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(s){a=!0,o=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return t}}(e,r)||(0,i.Z)(e,r)||l()}var c=t(6156),u=t(7294),m={referralBlock:[{name:"Google",val:"Google"},{name:"LinkedIn",val:"LinkedIn"},{name:"Other",val:"Other"},{name:"Referral",val:"Referral"},{name:"Facebook/IG",val:"Facebook/IG"}],monthlyVisitorsBlock:[{name:"Less than 10k",val:"10000"},{name:"10k - 50k",val:"50000"},{name:"50k - 250k",val:"250000"},{name:"250k - 1m",val:"1000000"},{name:"1m+",val:"1000001"},{name:"Not sure",val:"-1"}]},d=t(6358);function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach((function(r){(0,c.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function h(e){var r=e.formState,t=e.setFormState,c=(0,u.useState)({name:"",companyName:"",email:"",phone:"",websiteVisitors:"",website:"",referralSource:"",referralSourceName:"",utm:{}}),p=c[0],h=c[1],y=(0,u.useRef)(),v=(0,u.useRef)(),g=(0,u.useRef)(),b=(0,u.useRef)(),w=(0,u.useRef)(),x=(0,u.useRef)(),j=(0,u.useRef)(),N=(0,u.useRef)(),k=(0,u.useRef)(),P=(0,u.useRef)(),C=(0,u.useRef)(),S=(0,u.useRef)(),Z=(0,u.useRef)(),L=(0,u.useRef)(),O=(0,u.useRef)(),_=(0,u.useRef)();window.dataLayer=window.dataLayer||[];var I="https://vyg.mobi",E="".concat(I,"/api/registration"),B="".concat(I,"/api/TrackingEvents/SubscribeNumber"),R="voyage_registration",A="voyage_utm",F=function(e){return e.replace(/(^\w|\s\w)/g,(function(e){return e.toUpperCase()}))},V=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,T=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/;!function(){var e="";try{var r=location.search.substring(1);e='{"'+decodeURI(r).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}',sessionStorage.setItem(A,e)}catch(t){}}();var D=function(e){var r,t,n=(JSON.parse(localStorage.getItem(R))||{}).publicId,a=f(f({},e),{},{publicId:n,referralSource:e.referralSource&&(null===(r=e.referralSource+(null!==e&&void 0!==e&&null!==(t=e.referralSourceName)&&void 0!==t&&t.length?" - ".concat(null===e||void 0===e?void 0:e.referralSourceName):""))||void 0===r?void 0:r.trim())}),o=!!n;fetch(E,{method:o?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.publicId&&localStorage.setItem(R,JSON.stringify(e)),o&&localStorage.removeItem(R),console.log("Success:",e)})).catch((function(e){console.error("Error:",e)}))},M=function(){var e,r,t=function(){var e={};try{e=JSON.parse(sessionStorage.getItem(A)),e=Object.entries(e).reduce((function(e,r){var t,n=s(r,2),a=n[0],o=n[1];return(e[(t=a,t.replace(/(_\w)/g,(function(e){return e[1].toUpperCase()})))]=o)&&e}),{})}catch(r){}return h(f(f({},p),{},{utm:e})),e}(),n=F(p.name.trim()),c=(e=p.phone)&&e.length>=10&&"+1".concat(e.replace(/[^\d]/g,"").slice(-10)),u=p.email.trim(),m=F(p.companyName.trim()),d=+p.websiteVisitors,y=p.website.trim(),v=p.referralSource,g=p.referralSourceName,b=n.split(" "),w=a(r=b)||(0,o.Z)(r)||(0,i.Z)(r)||l();return f({firstName:w[0],lastName:w.slice(1).join(" "),companyName:m,email:u,phone:c,websiteVisitors:d,website:y,referralSource:v,referralSourceName:g},t)},W=function(e){e.preventDefault();var r,t=!1,n=M(),a=n.phone,o=n.companyName,i=n.firstName,l=n.lastName,s=n.website;if(console.log(s),0==o.length?(L.current.textContent="Please enter your company name",d.ZP.to("#company_error",{opacity:1,display:"block"}),t=!0):d.ZP.to("#company_error",{opacity:0,display:"none"}),0==a.length||12!==a.length?(S.current.textContent="Please enter a valid US phone number",d.ZP.to("#phone_error",{opacity:1,display:"block"}),t=!0):(S.current.textContent="",d.ZP.to("#phone_error",{opacity:0,display:"none"})),0=="".concat(i).concat(l).length?(C.current.textContent="Please enter your name",d.ZP.to("#name_error",{opacity:1,display:"block"}),t=!0):(C.current.textContent="Please enter your name",d.ZP.to("#name_error",{opacity:0,display:"none"})),0==s.length?(Z.current.textContent="Please enter E-commerce website",d.ZP.to("#website-error",{opacity:1,display:"block"}),t=!0):(Z.current.textContent="",d.ZP.to("#website-error",{opacity:0,display:"none"})),T.test(s)||0==s.length||(Z.current.textContent="Please enter a valid website",d.ZP.to("#website-error",{opacity:1,display:"block"}),t=!0),t)return!1;r=a,fetch(B,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({PhoneIn:r,CampaignId:4199})}).then((function(e){return e.json()})).then((function(e){var r=e.subscriberId;r&&localStorage.setItem("voyage_s",r)})).catch((function(e){console.error("Error:",e)})),document.getElementById("form-container-s2").style.display="none",document.getElementById("form-container-s3").style.display="block"},G=function(e){e.preventDefault();var r=M(),t=r.referralSource,n=r.websiteVisitors;t?(_.current.textContent="",d.ZP.to("#referral_error",{opacity:0,display:"none"})):(_.current.textContent="Please select an option",d.ZP.to("#referral_error",{opacity:1,display:"block"})),n?(O.current.textContent="",d.ZP.to("#web_visitors_error",{opacity:0,display:"none"})):(O.current.textContent="Please select an option even if it's rough estimate",d.ZP.to("#web_visitors_error",{opacity:1,display:"block"})),function(e){var r=e.firstName,t=e.lastName,n=e.email,a=e.phone,o=e.companyName,i=e.referralSource,l=e.referralSourceName;return(r||t)&&(i||l)&&n&&o&&12==a.length}(r)&&(console.log("valid form"),document.getElementById("form-container-s3").style.display="none",window.innerWidth<769&&document.getElementsByClassName("registration-wrapper")[0].classList.remove("extra-margin"),document.getElementById("greeting-block").style.display="flex",D(r),window.dataLayer.push({event:"leadFormSubmitSuccess"}))},U=function(e){var r=e.target.getAttribute("val");console.log(r),h(f(f({},p),{},{referralSource:r})),d.ZP.to("#referral-value",{opacity:0,autoAlpha:0});"Referral"===r||"Other"===r?(d.ZP.to("#referral-name",{display:"block"}),d.ZP.to("#referral",{width:"115px"}),N.current.value="",N.current.focus()):(d.ZP.to("#referral-name",{display:"none"}),d.ZP.to("#referral",{width:"100%"}),N.current.value="")},J=function(e){var r=e.target.getAttribute("val");h(f(f({},p),{},{websiteVisitors:r})),k.current.value=r,d.ZP.to("#web-visitors-value",{opacity:0,autoAlpha:0})};return(0,u.useEffect)((function(){"open"==r?d.ZP.to("#registration-form-modal",{duration:.3,opacity:1,autoAlpha:1}):d.ZP.to("#registration-form-modal",{duration:.3,opacity:0,autoAlpha:0})}),[r]),(0,n.jsx)("div",{id:"registration-form-modal",onClick:function(){return t("close")},children:(0,n.jsxs)("div",{className:"registration-wrapper",onClick:function(e){return e.stopPropagation()},children:[(0,n.jsx)("div",{id:"close-registration-modal",onClick:function(){return t("close")},children:(0,n.jsxs)("svg",{width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("rect",{width:"21",height:"21",fill:"#162740"}),(0,n.jsx)("path",{d:"M7.18194 16.1384L11.105 12.2154L15.028 16.1384L16.1602 15.0062L12.2371 11.0832L16.1602 7.16017L15.028 6.02802L11.105 9.95105L7.18194 6.02802L6.04979 7.16017L9.97283 11.0832L6.04979 15.0062L7.18194 16.1384Z",fill:"white"})]})}),(0,n.jsxs)("div",{className:"inner-block-wrap",children:[(0,n.jsx)("div",{id:"left-form-wrap",style:{backgroundImage:'url("/images/voyage-form-left-banner.jpeg")'}}),(0,n.jsxs)("div",{id:"right-form-wrap",children:[(0,n.jsxs)("div",{className:"email-check-wrapper",id:"form-container-s1",children:[(0,n.jsxs)("h2",{children:[(0,n.jsx)("span",{children:"Get started with"}),(0,n.jsx)("span",{className:"underline",children:"Voyage SMS"})]}),(0,n.jsxs)("form",{id:"email-check-form",className:"registration",children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"email",children:"Business Email"}),(0,n.jsx)("input",{onChange:function(e){return h(f(f({},p),{},{email:e.target.value}))},value:p.email,ref:g,type:"email",name:"email",id:"email",placeholder:"phil@nike.com",autoComplete:"on"}),(0,n.jsx)("span",{ref:P,className:"error-response",id:"email-error"})]}),(0,n.jsx)("button",{onClick:function(e){return function(e){e.preventDefault();var r=!1,t=M(),n=t.email;if(console.log(n),0==n.length?(P.current.textContent="Please enter your work email",d.ZP.to("#email-error",{opacity:1,display:"block"}),r=!0):(P.current.textContent="",d.ZP.to("#email-error",{opacity:0,display:"none"})),V.test(n)||(P.current.textContent="Please enter a valid work email",d.ZP.to("#email-error",{opacity:1,display:"block"}),r=!0),r)return!1;D(t),window.innerWidth<769&&(document.getElementById("left-form-wrap").style.display="none",document.getElementsByClassName("registration-wrapper")[0].classList.add("extra-margin")),d.ZP.to("#email-error",{opacity:0,autoAlpha:0,duration:.3}),b.current.value=n,document.getElementById("form-container-s1").style.display="none",document.getElementById("form-container-s2").style.display="block"}(e)},type:"submit",id:"form-submit-s1","data-track":"lead-form-next",children:"Get Started"})]}),(0,n.jsx)("div",{id:"instrinsic-layout",children:(0,n.jsx)("img",{src:"/images/backfade.png",alt:"voyage form"})})]}),(0,n.jsx)("div",{className:"final-contact-wrapper",id:"form-container-s2",children:(0,n.jsxs)("form",{id:"complete-data-form",className:"registration",children:[(0,n.jsx)("input",{ref:b,type:"email",name:"",id:"email_record",defaultValue:p.email,hidden:!0}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"company",children:"Company Name"}),(0,n.jsx)("input",{onChange:function(e){return h(f(f({},p),{},{companyName:e.target.value}))},ref:x,type:"text",value:p.companyName,name:"company",id:"company",placeholder:"Nike",autoComplete:"on"}),(0,n.jsx)("span",{ref:L,className:"error-response",id:"company_error"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"website",children:"E-commerce Website URL"}),(0,n.jsx)("input",{onChange:function(e){return h(f(f({},p),{},{website:e.target.value}))},ref:w,type:"text",value:p.website,name:"website",id:"website",placeholder:"https://www.nike.com",autoComplete:"on"}),(0,n.jsx)("span",{ref:Z,className:"error-response",id:"website-error"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,n.jsx)("input",{onChange:function(e){var r=e.charCode||e.keyCode||0,t=e.target.value;[109,189,8,9].includes(r)||(3===t.length&&(t+="-"),7===t.length&&(t+="-"),h(f(f({},p),{},{phone:t})))},ref:v,type:"text",value:p.phone,name:"phone",id:"phone",placeholder:"415-497-3732",autoComplete:"on",maxLength:"12"}),(0,n.jsx)("span",{ref:S,className:"error-response",id:"phone_error"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"name",children:"Your Name"}),(0,n.jsx)("input",{onChange:function(e){return h(f(f({},p),{},{name:e.target.value}))},ref:y,type:"text",name:"name",id:"name",value:p.name,placeholder:"Phil Smith",autoComplete:"on"}),(0,n.jsx)("span",{ref:C,className:"error-response",id:"name_error"})]}),(0,n.jsx)("button",{onClick:function(e){return W(e)},type:"submit",id:"form-submit-s2","data-track":"lead-form-submit",children:"Next"})]})}),(0,n.jsx)("div",{className:"final-contact-wrapper",id:"form-container-s3",children:(0,n.jsxs)("form",{id:"complete-data-form-new",className:"registration",children:[(0,n.jsx)("input",{type:"email",name:"",id:"email_record",defaultValue:"",hidden:!0}),(0,n.jsxs)("div",{className:"form-group",id:"referral-block",children:[(0,n.jsx)("label",{htmlFor:"referral",children:"Where did you hear about us?"}),(0,n.jsxs)("div",{className:"input-wrap",style:{display:"flex"},children:[(0,n.jsx)("input",{onBlur:function(){d.ZP.to("#referral-value",{duration:.3,opacity:0,autoAlpha:0})},onFocus:function(){d.ZP.to("#referral-value",{duration:.3,opacity:1,autoAlpha:1})},ref:j,type:"text",name:"referral",defaultValue:p.referralSource,id:"referral",className:"dropdown-input",placeholder:"Select an option",readOnly:!0}),(0,n.jsx)("input",{onChange:function(e){return h(f(f({},p),{},{referralSourceName:e.target.value}))},ref:N,type:"text",value:p.referralSourceName,name:"referral-name",id:"referral-name",autoComplete:"on"}),(0,n.jsx)("span",{ref:_,className:"error-response",id:"referral_error"}),(0,n.jsx)("div",{className:"dropdown-icon",children:(0,n.jsx)("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M1 1L4.2 5L7.4 1",stroke:"white",strokeWidth:"1.5",strokeLinejoin:"round"})})}),(0,n.jsx)("ul",{id:"referral-value",className:"dropdown-option",children:m.referralBlock.map((function(e,r){return(0,n.jsx)("li",{onClick:U,val:e.val,children:e.name},r)}))})]})]}),(0,n.jsxs)("div",{className:"form-group",id:"subscriber-block",children:[(0,n.jsx)("label",{htmlFor:"web-visitors",children:"Monthly Website Visitors"}),(0,n.jsxs)("div",{className:"input-wrap",children:[(0,n.jsx)("input",{onFocus:function(){d.ZP.to("#web-visitors-value",{duration:.3,opacity:1,autoAlpha:1})},ref:k,type:"text",name:"web-visitors",defaultValue:p.websiteVisitors,id:"web-visitors",className:"dropdown-input",placeholder:"Select an option"}),(0,n.jsx)("span",{ref:O,className:"error-response",id:"web_visitors_error"}),(0,n.jsx)("div",{className:"dropdown-icon",children:(0,n.jsx)("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M1 1L4.2 5L7.4 1",stroke:"white",strokeWidth:"1.5",strokeLinejoin:"round"})})}),(0,n.jsx)("ul",{id:"web-visitors-value",className:"dropdown-option",children:m.monthlyVisitorsBlock.map((function(e,r){return(0,n.jsx)("li",{onClick:J,val:e.val,children:e.name},r)}))})]})]}),(0,n.jsx)("button",{onClick:function(e){return G(e)},type:"submit",id:"form-submit-s3","data-track":"lead-form-submit-3rd",children:"Submit"})]})}),(0,n.jsxs)("div",{id:"greeting-block",children:[(0,n.jsxs)("h2",{children:[(0,n.jsx)("span",{className:"underline",children:"Thank you,"}),(0,n.jsx)("span",{children:"we\u2019ll be in touch!"})]}),(0,n.jsx)("div",{id:"mobile-icon-greet",children:(0,n.jsxs)("svg",{width:"19",height:"25",viewBox:"0 0 19 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M16.7692 17.6925C16.7692 21.7284 13.4974 25.0001 9.4615 25.0001C5.42557 25.0001 2.15381 21.7284 2.15381 17.6925C2.15381 13.6565 5.42557 10.3848 9.4615 10.3848C13.4974 10.3848 16.7692 13.6565 16.7692 17.6925Z",fill:"#4262F7"}),(0,n.jsx)("path",{d:"M18.3076 10.3848L0.230713 10.3848L9.26917 0.000151239L18.3076 10.3848Z",fill:"#5BEBC1"})]})}),(0,n.jsx)("div",{className:"instrinsic-layout",children:(0,n.jsx)("img",{src:"/images/backfade.png",alt:"voyage form"})})]})]})]})]})})}}}]);